---
layout: post
title:  기댓값과 분산
date:   2021-06-17 23:00:00 +0900
description: 확률변수의 기댓값과 분산을 구해보자
categories: math
---

여기서 말하는 기댓값과 분산은 확률변수의 것을 말하는 것이 아니라 확률변수의 함수에 대한 것을 말합니다.

**기댓값(Expectation)**이란 확률분포 $$p(x)$$에서 함수 $$f(x)$$의 평균값을 말합니다.

이산확률분포의 기댓값은 $$E[f] = \sum_x{p(x)f(x)}$$이고 연속확률분포의 기댓값은 $$E[f] = \int_x{p(x)f(x)}$$입니다.

만약 확률분포가 모두 주어져있지 않은 경우, 확률분포로부터 $$N$$개의 샘플을 추출해서 기댓값을 근사할 수도 있다. 이 경우 기댓값은 다음과 같이 근사할 수 있습니다.

$$E[f] \approx \frac{1}{N}\sum_{n=1}^N{f(x_n)}$$

여러 변수가 존재하는 함수 $$f(x, y)$$의 기댓값은 다음과 같이 표현합니다.

$$E_x[f(x, y)] = \sum_x{f(x,y)p(x)}$$

만약 모든 확률변수 $$X, Y$$에 대해 나타내고 싶다면 다음과 같이 표현할 수도 있습니다.

$$E_{x,y}[f(x, y)] = \sum_y\sum_x{f(x,y)p(x,y)}$$

조건부 확률의 경우 기댓값은 $$E_x[f\vert y]=\sum_x{f(x)p(x\vert y)}$$입니다.

**분산(Variable)**이란 $$f(x)$$의 값들이 기댓값 $$E[f]$$으로부터 흩어져 있는 정도를 말합니다. 식으로 표현하면 다음과 같습니다.

$$var[f] = E[(f(x) - E[f(x)]^2)] = E[f(x)^2] - E[f(x)]^2$$

만약 $$x$$가 벡터라면 다음과 같이 쓸 수도 있습니다.

$$var[x] = E[x^2] - E[x]^2$$

**공분산(Covariance)**란 두 확률변수 $$X, Y$$의 상관성을 나타내는 값입니다. 다음과 같이 나타냅니다.

$$cov[x, y] = E_{x,y}[{x - E[x]}{y - E[y]}] = E_{x,y}[xy] - E[x]E[y]$$

만약 x, y가 각각 확률변수의 벡터라면 다음과 같이 쓸 수도 있습니다.

$$cov[x, y] = E_{x,y}[{x - E[x]}{y^T - E[y^T]}] = E_{x,y}[xy^T] - E[x]E[y^T]$$

$$cov[x] \equiv cov[x,x]$$
